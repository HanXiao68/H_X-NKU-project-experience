### 旋转坐标系下的运动学
a = aI -2w* v -w* r -w * ( wi * ri)
    =aI - 科氏力 - 欧拉力   -  离心力
    
    在旋转坐标系下观察，运动的物体（旋转轴和旋转不是一个轴时），会收到科氏力的作用。使得运动不是一条直线。
    
    
    
    
## IMU测量模型和运动模型
    
    用一个质量块 + 弹簧  +  指示计
    
### 加速度计测量原理
* 采用东北天坐标系（ENU）
     g =( 0,0, -9.81)
     
### 陀螺仪
* 用来测量物体的旋转角速度，按照测量原理有振动陀螺仪，光线陀螺仪。

### IMU误差模型--标定时标定确定型误差，随机误差无法标定
#### 加速度计和陀螺仪误差可以分为：确定型误差，随机误差。
#### 确定型误差可以事先标定确定，包括bias，scale
#### 随机误差通常假设噪声服从高斯分布。包括高斯白噪声，bias随机游走。
#### 制造误差：imu传感器在制作的时候，由于制作工艺问题，使得xyz 轴可能不垂直。

### 六面法标定IMU加速度
将加速度计的三个轴分别朝上朝下，向上向下相加可以抵消重力。容易得到bias 和 scale：

### 六面法标定陀螺仪
陀螺仪的真实值由高精度转台提供， 这里的六面是指按照各个轴顺时针和逆时针旋转。

### 温度的参数标定。
1.soak 方法：  控制恒温室的温度值，然后读取传感器数值进行标定。

### 随机误差
高斯白噪声
### IMU随机误差的标定
艾伦方差标定。
    流程：
        1.保持传感器相对静止获取数据
        2.对数据进行分段，设定时间段的时长。
        3.将传感器数据按照施加求平均。
        4.计算方差，绘制艾伦曲线。艾伦方差可以标定随机协方差和量化噪声（MATLAB版的在网上找。还有kalibr_allan,还有港科大的IMU_util）
        
### 加速度的数学模型
加速度计的误差模型
ENU坐标系下，即东北天，g=( 0,0,-9.81)。
理论测量值 =旋转变换*（a加速度计 -g加速度计）
考虑到高斯白噪声：理论测量值 =旋转变换*（a加速度计 -g加速度计）+bias

### 运动模型的离散积分--使用欧拉法
欧拉法：相邻时刻k  到k+1的位姿是用第k时刻的测量值a,w加derta t 。求P V Q 。

### 运动模型的离散积分--使用中值法
欧拉法：相邻时刻k  到k+1的位姿是用第k时刻和k+1时刻的测量值的平均值 ,w加derta t 。求P V Q 。
        
### IMU数据的仿真 （作业：两个仿真IMU数据）
思路1：指定imu运动轨迹的方程。求一阶导数得到速度，角速度。求二阶导得到加速度
思路2：已知pose轨迹序列，不知道方程。通过对已知的pose位姿序列进行拟合，使用B样条插值拟合曲线。再求导得到加速度，角速度，速度。
        
### 旋转积分的几种方式
 四元数的形式：
 
 so3的形式：
 
 欧拉角的形式：Vwb = Vwb +Ewb * deta t
    Ewb表示将IMU的body坐标系下的角速度转换成欧拉角速度。
    
    
 
